(this.webpackJsonpkochbuch=this.webpackJsonpkochbuch||[]).push([[0],{106:function(e,t,n){e.exports=n(119)},111:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(111),n(174)),l=n(93),u=n(173),s=n(175),f=n(177),m=n(13),p=n(60),h=n(20),E=n(155),d=n(160),b=n(156),v=n(157),g=n(158),k=n(159),w=n(148),O=n(181),j=n(150),y=Object(w.a)((function(e){return Object(O.a)({fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2)}})})),C=function(e){var t=e.onClick,n=e.label,a=e.children,c=e.isLoading,i=y();return r.a.createElement(j.a,{onClick:t,disabled:c,className:i.fab,color:"primary","aria-label":n},a)},S=n(79),x=n(182),L=n(153),I=n(152),T=n(92),R=n.n(T),A=n(91),z=n.n(A),N=Object(w.a)((function(e){return Object(O.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})})),_=function(e){var t=e.onSubmit,n=e.label,a=N(),c=r.a.useState(""),i=Object(h.a)(c,2),o=i[0],l=i[1];return r.a.useEffect((function(){t(o)}),[t,o]),r.a.createElement(S.a,{onSubmit:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),t(o)})),component:"form",className:a.root},r.a.createElement(x.a,{value:o,onChange:function(e){return l(e.target.value)},className:a.input,placeholder:n,inputProps:{"aria-label":n}}),r.a.createElement(I.a,{type:"button",color:"secondary",className:a.iconButton,"aria-label":"Suche l\xf6schen",onClick:function(){l(""),t("")}},r.a.createElement(z.a,null)),r.a.createElement(L.a,{className:a.divider,orientation:"vertical"}),r.a.createElement(I.a,{type:"submit",className:a.iconButton,"aria-label":"suchen"},r.a.createElement(R.a,null)))},D=(n(180),n(178),n(9)),W=n.n(D),P=n(16),F=n(67),B=n(43);function K(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(P.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.abrupt("return",fetch(t,n).then(function(){var e=Object(P.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H={isLoading:!1,tags:[],recipes:{},hasError:!1},J=function(e,t){switch(t.type){case"DATA_FETCHED":return function(e,t){var n=t.reduce((function(e,t){return Object(B.a)({},e,Object(F.a)({},t.title,t))}),{}),a=Object(B.a)({},e.recipes,{},n);return Object(B.a)({},e,{isLoading:!1,hasError:!1,recipes:a})}(e,t.data);case"HAS_ERROR":return Object(B.a)({},e,{hasError:!0});case"START_LOADING":return Object(B.a)({},e,{hasError:!1,isLoading:!0});case"REMOVE_RECIPE":var n=Object(B.a)({},e);return delete n.recipes[t.recipe.title],n;default:return e}},U=r.a.createContext((function(){})),G=r.a.createContext(H),Z=function(e){var t=e.children,n=r.a.useReducer(J,H),a=Object(h.a)(n,2),c=a[0],i=a[1];return r.a.useEffect((function(){M(i)}),[]),r.a.createElement(U.Provider,{value:i},r.a.createElement(G.Provider,{value:c},t))},q=function(){return r.a.useContext(G)},M=function(){var e=Object(P.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.prev=1,e.next=4,K("https://raw.githubusercontent.com/sanderdrummer/recipes-md/master/parsed-recipes.json");case 4:n=e.sent,t({type:"DATA_FETCHED",data:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"HAS_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.g)(),t=q(),n=t.recipes,a=t.hasError,c=t.isLoading,i=r.a.useState(""),o=Object(h.a)(i,2),l=o[0],u=o[1],s=r.a.useState(Object.values(n)),p=Object(h.a)(s,2),w=p[0],O=p[1];r.a.useEffect((function(){O(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e||[];var n=t.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(n)}))}(Object.values(n),l))}),[l,n]);var j=r.a.useContext(U);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{label:"was kochen ?",onSubmit:u}),r.a.createElement(b.a,null,w.map((function(t){return r.a.createElement(v.a,{button:!0,onClick:function(){return e.push(me(t.title))},key:t.title},r.a.createElement(g.a,{primary:t.title}))}))),c&&r.a.createElement(E.a,{"aria-label":"loading","data-testid":"loader"}),a&&r.a.createElement(f.a,null,"rezepte konnten nicht geladen werden",r.a.createElement(k.a,{onClick:function(){return M(j)}},"nochmal versuchen")),r.a.createElement(C,{onClick:function(){return e.push(fe)},label:"Rezept hinzuf\xfcgen",children:r.a.createElement(d.a,null)}))},$=n(163),Q=n(161),X=n(162),ee=n(164),te=n(31),ne=n(78),ae=function(e,t){localStorage.setItem(e,JSON.stringify(t))},re=function(){var e=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}("LIST_KEY");return e||{basket:[],list:[]}},ce=function(){var e=Object(P.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=re()).list=n.list.filter((function(e){return e!==t})),n.basket.push(t),ae("LIST_KEY",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){var t=re();t.basket=t.basket.filter((function(t){return t!==e})),t.list.push(e),ae("LIST_KEY",t)},oe=function(e){var t=re();t.list=[].concat(Object(ne.a)(t.list),Object(ne.a)(e)),ae("LIST_KEY",t)},le=function(){var e=re();e.basket=[],ae("LIST_KEY",e)},ue={list:[],basket:[]},se=function(){var e=Object(m.g)(),t=Object(m.i)().id,n=function(e){return q().recipes[e]}(decodeURIComponent(t||""));return n?r.a.createElement(f.a,{mt:3},r.a.createElement(Q.a,null,r.a.createElement(X.a,{title:n.title,action:r.a.createElement(k.a,{startIcon:r.a.createElement($.a,null),onClick:Object(P.a)(W.a.mark((function t(){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:oe(n.ingredients),e.push("/einkaufliste");case 2:case"end":return t.stop()}}),t)})))},"zur Einkaufsliste")})),r.a.createElement(f.a,{mt:3},r.a.createElement(Q.a,null,r.a.createElement(X.a,{subheader:"Zutaten"}),r.a.createElement(b.a,null,n.ingredients.map((function(e){return r.a.createElement(v.a,{key:e},e)}))))),r.a.createElement(f.a,{mt:3},r.a.createElement(Q.a,null,r.a.createElement(X.a,{subheader:"Zubereitung"}),r.a.createElement(ee.a,null,r.a.createElement(te.a,{style:{whiteSpace:"pre-wrap"}},n.description))))):r.a.createElement(E.a,{height:"12rem"})},fe="/rezepte/neues-rezept",me=function(e){return"/rezepte/"+e},pe=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/rezepte",component:V}),r.a.createElement(m.b,{exact:!0,path:"/rezepte/:id",component:se}))},he=n(166),Ee=n(167),de=n(168),be=n(179),ve=n(183),ge=n(165),ke=n(176),we="shoppingList",Oe=function(e){var t=e.onCompleted,n=r.a.useState(""),a=Object(h.a)(n,2),c=a[0],i=a[1];return r.a.useEffect((function(){var e=window.localStorage.getItem(we)||"";"string"===typeof e&&i(e)}),[]),r.a.useEffect((function(){var e=setTimeout((function(){window.localStorage.setItem(we,c)}),100);return function(){clearTimeout(e)}}),[c]),r.a.createElement(f.a,null,r.a.createElement(Q.a,null,r.a.createElement(X.a,{title:"Einkaufsliste erweitern"}),r.a.createElement(ee.a,null,r.a.createElement("form",{onSubmit:function(){var e=Object(P.a)(W.a.mark((function e(n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{oe([c]),i(""),t()}catch(n){console.log(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(ke.a,{value:c,onChange:function(e){return i(e.target.value)},multiline:!0,fullWidth:!0,name:"listItems",label:"Einkaufsliste",required:!0}),r.a.createElement(k.a,{type:"submit",startIcon:r.a.createElement(ge.a,null)},"speichern")))))},je=function(e){var t=e.onClearList,n=r.a.useState(!1),a=Object(h.a)(n,2),c=a[0],i=a[1],o=function(){return i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{onClick:function(){return i(!0)}},"Liste l\xf6schen"),r.a.createElement(he.a,{open:c,onClose:o,"aria-labelledby":"clear-list-dialog-title"},r.a.createElement(Ee.a,{id:"clear-list-dialog-title"},"Die Einkaufsliste leeren ?"),r.a.createElement(de.a,null,r.a.createElement(k.a,{onClick:o,color:"primary"},"nein"),r.a.createElement(k.a,{onClick:Object(P.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{le(),t(),o()}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0},"ja"))))},ye=function(e){var t=e.items,n=e.onSelect,a=e.isChecked,c=e.headline;return 0===t.length?null:r.a.createElement(Q.a,null,r.a.createElement(X.a,{subheader:c}),r.a.createElement(ee.a,null,t.map((function(e){return r.a.createElement(v.a,{button:!0,onClick:function(){n(e)},key:e},r.a.createElement(g.a,null,e),r.a.createElement(be.a,{checked:a,inputProps:{"aria-label":"".concat(e," ist im Einkaufswagen")}}))}))))},Ce=function(){var e=function(){var e=r.a.useState(ue),t=Object(h.a)(e,2),n=t[0],a=t[1];return{list:n,fetchList:function(){var e=Object(P.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,ue=t,a(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}}(),t=e.list,n=e.fetchList,a=r.a.useState(!1),c=Object(h.a)(a,2),i=c[0],o=c[1];return r.a.useEffect((function(){n()}),[]),r.a.createElement(r.a.Fragment,null,0===t.list.length&&0===t.basket.length&&r.a.createElement(f.a,{display:"flex",alignContent:"center",justifyContent:"center"},"Du hast noch nichts auf der Einkaufsliste"),r.a.createElement(ye,{items:t.list,isChecked:!1,headline:"In den Einkaufswagen",onSelect:function(){var e=Object(P.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(f.a,{mt:3,mb:3}),r.a.createElement(ye,{items:t.basket,isChecked:!0,headline:"Schon dabei",onSelect:function(){var e=Object(P.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.basket.length>0&&r.a.createElement(f.a,{mt:4},r.a.createElement(je,{onClearList:n})),r.a.createElement(ve.a,{anchor:"top",open:i,onClose:function(){return o(!1)}},r.a.createElement(Oe,{onCompleted:function(){o(!1),n()}})),r.a.createElement(C,{onClick:function(){return o(!0)},label:"brauche sachen"},r.a.createElement(d.a,null)))},Se=n(172),xe=n(169),Le=n(170),Ie=n(171),Te=Object(w.a)((function(e){return Object(O.a)({nav:{marginTop:e.spacing(8),bottom:0,top:"auto"}})})),Re=function(){var e=Object(m.g)(),t=Te(),n=Object(m.h)();return r.a.createElement(xe.a,{position:"fixed",color:"primary",className:t.nav},r.a.createElement(Le.a,{value:n.pathname,showLabels:!0},r.a.createElement(Ie.a,{onClick:function(){return e.push("/rezepte")},value:"/rezepte",label:"Rezepte",icon:r.a.createElement(Se.a,null)}),r.a.createElement(Ie.a,{onClick:function(){return e.push("/einkaufliste")},value:"/einkaufliste",label:"Liste",icon:r.a.createElement($.a,null)})))},Ae=function(){return r.a.createElement(p.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/rezepte",component:pe}),r.a.createElement(m.b,{path:"/einkaufliste",component:Ce}),r.a.createElement(m.a,{from:"/",to:"/rezepte"})),r.a.createElement(Re,null))};var ze=function(){var e=Object(l.a)({palette:{primary:{main:"#00acc1"},secondary:{main:"#00bfa5"},type:"dark"}});return r.a.createElement(u.a,{theme:e},r.a.createElement(o.a,null),r.a.createElement(Z,null,r.a.createElement(s.a,null,r.a.createElement(f.a,{mt:2,mb:8},r.a.createElement(Ae,null)))))},Ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(ze,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kochbuch",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/kochbuch","/service-worker.js");Ne?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_e(t,e)}))}}()}},[[106,1,2]]]);
//# sourceMappingURL=main.16e10af3.chunk.js.map