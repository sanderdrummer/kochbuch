(this.webpackJsonpkochbuch=this.webpackJsonpkochbuch||[]).push([[0],{124:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),i=n(13),s=n.n(i),o=(n(124),n(190)),u=n(104),l=n(189),j=n(191),b=n(193),f=n(18),h=n(82),d=n(19),O=n(177),p=n(174),x=n(176),m=n(163),v=n(199),g=n(165),k=Object(m.a)((function(e){return Object(v.a)({fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2)}})})),w=function(e){var t=e.onClick,n=e.label,a=e.children,r=e.isLoading,i=k();return Object(c.jsx)(g.a,{onClick:t,disabled:r,className:i.fab,color:"primary","aria-label":n,children:a})},C=n(87),y=n(200),S=n(168),E=n(167),L=n(102),P=n.n(L),I=n(101),D=n.n(I),F=Object(m.a)((function(e){return Object(v.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})})),N=function(e){var t=e.onSubmit,n=e.label,a=F(),i=r.a.useState(""),s=Object(d.a)(i,2),o=s[0],u=s[1];return r.a.useEffect((function(){t(o)}),[t,o]),Object(c.jsxs)(C.a,{onSubmit:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),t(o)})),component:"form",className:a.root,children:[Object(c.jsx)(y.a,{value:o,onChange:function(e){return u(e.target.value)},className:a.input,placeholder:n,inputProps:{"aria-label":n}}),Object(c.jsx)(E.a,{type:"button",color:"secondary",className:a.iconButton,"aria-label":"Suche l\xf6schen",onClick:function(){u(""),t("")},children:Object(c.jsx)(D.a,{})}),Object(c.jsx)(S.a,{className:a.divider,orientation:"vertical"}),Object(c.jsx)(E.a,{type:"submit",className:a.iconButton,"aria-label":"suchen",children:Object(c.jsx)(P.a,{})})]})},z=(n(198),n(195),n(16)),T=n.n(z),B=n(24),J=n(194),R=n(197);function K(e){return W.apply(this,arguments)}function W(){return(W=Object(B.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.abrupt("return",fetch(t,n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=new J.a,q=n(170),G=n(171),Y=n(169),_=n(172),A=n(173),H=n(175),M=n(39),Q=function(e){var t=e.recipe,n=e.action,a=r.a.useState(!1),i=Object(d.a)(a,2),s=i[0],o=i[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(q.a,{selected:s,button:!0,onClick:function(){return o((function(e){return!e}))},children:Object(c.jsx)(G.a,{primary:t.title})},t.title),Object(c.jsx)(S.a,{}),Object(c.jsx)(Y.a,{in:s,mountOnEnter:!0,unmountOnExit:!0,children:Object(c.jsxs)(b.a,{mt:3,children:[Object(c.jsx)(_.a,{children:Object(c.jsx)(A.a,{title:null===t||void 0===t?void 0:t.title,action:n})}),Object(c.jsx)(b.a,{mt:3,children:Object(c.jsxs)(_.a,{children:[Object(c.jsx)(A.a,{subheader:"Zutaten"}),Object(c.jsx)(p.a,{children:null===t||void 0===t?void 0:t.ingredients.map((function(e){return Object(c.jsxs)(q.a,{children:[e.amount," ",e.name]},e.name)}))})]})}),Object(c.jsx)(b.a,{mt:3,children:Object(c.jsxs)(_.a,{children:[Object(c.jsx)(A.a,{subheader:"Zubereitung"}),Object(c.jsx)(H.a,{children:Object(c.jsx)(M.a,{style:{whiteSpace:"pre-wrap"},children:null===t||void 0===t?void 0:t.description})})]})})]})})]})},U=n(62),V=n(52),X=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)},$=function(e,t){localStorage.setItem(e,JSON.stringify(t))},ee=n(86),te="LIST_KEY",ne=function(){var e=X(te);return e||{basket:[],list:[]}},ce=function(){var e=Object(B.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=ne()).list=n.list.filter((function(e){return e!==t})),n.basket.push(t),$(te,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=ne();t.basket=t.basket.filter((function(t){return t!==e})),t.list.push(e),$(te,t)},re=function(e){var t=ne();t.list=[].concat(Object(ee.a)(t.list),Object(ee.a)(e)),$(te,t)},ie=function(){var e=ne();e.basket=[],$(te,e)},se={list:[],basket:[]},oe=function(){var e=function(e,t){var n=X(e),c=Object(a.useState)(null!==n&&void 0!==n?n:t),r=Object(d.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){$(e,i)}),[e,i]),[i,s]}("plan",{}),t=Object(d.a)(e,2),n=t[0],c=t[1];return{completedPlans:Object.values(n).filter((function(e){return e.isDone})),openPlans:Object.values(n).filter((function(e){return!e.isDone})),clearPlans:function(){c({})},addRecipe:function(e){var t=Object(V.a)(Object(V.a)({},n),{},Object(U.a)({},e.title,{isDone:!1,recipe:e}));c(t)},togglePlan:function(e){c(Object(V.a)(Object(V.a)({},n),{},Object(U.a)({},e.recipe.title,Object(V.a)(Object(V.a)({},e),{},{isDone:!e.isDone}))))}}},ue=function(){var e=oe(),t=e.openPlans,n=e.completedPlans,a=e.clearPlans,r=e.togglePlan;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(M.a,{variant:"h5",children:"Wir kochen"}),t.map((function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Q,{recipe:e.recipe,action:Object(c.jsx)(x.a,{onClick:function(){r(e)},children:"Fertig gekocht"})},e.recipe.title)})})),n.length>0&&Object(c.jsx)(M.a,{variant:"h5",children:"Schon gekocht"}),n.map((function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Q,{recipe:e.recipe},e.recipe.title)})})),Object(c.jsxs)(b.a,{mt:"3",display:"flex",justifyContent:"space-between",children:[Object(c.jsx)(x.a,{onClick:function(){var e=t.reduce((function(e,t){return e.concat(t.recipe.ingredients)}),[]);re(e.map((function(e){return"".concat(e.amount," ").concat(e.name)})))},color:"primary",children:"Plan zur Einkaufsliste"}),Object(c.jsx)(x.a,{onClick:a,children:"Plan l\xf6schen"})]})]})},le=function(){var e=Object(R.a)("recipes",Object(B.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("https://raw.githubusercontent.com/sanderdrummer/recipes-md/master/parsed-recipes.json");case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t?t:[]);case 4:case"end":return e.stop()}}),e)})))),t=e.data,n=e.isLoading,a=e.isError,i=e.refetch,s=r.a.useState(""),o=Object(d.a)(s,2),u=o[0],l=o[1],j=r.a.useState(null!==t&&void 0!==t?t:[]),f=Object(d.a)(j,2),h=f[0],m=f[1];r.a.useEffect((function(){m(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e||[];var n=t.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(n)}))}(t,u))}),[u,t]);var v=oe().addRecipe;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N,{label:"was kochen ?",onSubmit:l}),Object(c.jsx)(p.a,{children:h.map((function(e){return Object(c.jsx)(Q,{recipe:e,action:Object(c.jsx)(x.a,{onClick:function(){return v(e)},children:"zum Koch Plan"})},e.title)}))}),n&&Object(c.jsx)(O.a,{"aria-label":"loading","data-testid":"loader"}),a&&Object(c.jsxs)(b.a,{children:["rezepte konnten nicht geladen werden",Object(c.jsx)(x.a,{onClick:function(){return i()},children:"nochmal versuchen"})]})]})},je="/rezepte",be="/einkaufliste",fe="/plan",he="/rezepte/:id",de=function(){return Object(c.jsxs)(f.d,{children:[Object(c.jsx)(f.b,{exact:!0,path:je,component:le}),Object(c.jsx)(f.b,{exact:!0,path:he,component:Q})]})},Oe=n(179),pe=n(180),xe=n(181),me=n(196),ve=n(201),ge=n(182),ke=n(178),we=n(192),Ce="shoppingList",ye=function(e){var t=e.onCompleted,n=r.a.useState(""),a=Object(d.a)(n,2),i=a[0],s=a[1];return r.a.useEffect((function(){var e=window.localStorage.getItem(Ce)||"";"string"===typeof e&&s(e)}),[]),r.a.useEffect((function(){var e=setTimeout((function(){window.localStorage.setItem(Ce,i)}),100);return function(){clearTimeout(e)}}),[i]),Object(c.jsx)(b.a,{children:Object(c.jsxs)(_.a,{children:[Object(c.jsx)(A.a,{title:"Einkaufsliste erweitern"}),Object(c.jsx)(H.a,{children:Object(c.jsxs)("form",{onSubmit:function(){var e=Object(B.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{re([i]),s(""),t()}catch(n){console.log(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsx)(we.a,{value:i,onChange:function(e){return s(e.target.value)},multiline:!0,fullWidth:!0,name:"listItems",label:"Einkaufsliste",required:!0}),Object(c.jsx)(x.a,{type:"submit",startIcon:Object(c.jsx)(ke.a,{}),children:"speichern"})]})})]})})},Se=function(e){var t=e.onClearList,n=r.a.useState(!1),a=Object(d.a)(n,2),i=a[0],s=a[1],o=function(){return s(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{onClick:function(){return s(!0)},children:"Liste l\xf6schen"}),Object(c.jsxs)(Oe.a,{open:i,onClose:o,"aria-labelledby":"clear-list-dialog-title",children:[Object(c.jsx)(pe.a,{id:"clear-list-dialog-title",children:"Die Einkaufsliste leeren ?"}),Object(c.jsxs)(xe.a,{children:[Object(c.jsx)(x.a,{onClick:o,color:"primary",children:"nein"}),Object(c.jsx)(x.a,{onClick:Object(B.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{ie(),t(),o()}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0,children:"ja"})]})]})]})},Ee=function(e){var t=e.items,n=e.onSelect,a=e.isChecked,r=e.headline;return 0===t.length?null:Object(c.jsxs)(_.a,{children:[Object(c.jsx)(A.a,{subheader:r}),Object(c.jsx)(H.a,{children:t.map((function(e){return Object(c.jsxs)(q.a,{button:!0,onClick:function(){n(e)},children:[Object(c.jsx)(G.a,{children:e}),Object(c.jsx)(me.a,{checked:a,inputProps:{"aria-label":"".concat(e," ist im Einkaufswagen")}})]},e)}))})]})},Le=function(){var e=function(){var e=r.a.useState(se),t=Object(d.a)(e,2),n=t[0],c=t[1];return{list:n,fetchList:function(){var e=ne();se=e,c(e)}}}(),t=e.list,n=e.fetchList,a=r.a.useState(!1),i=Object(d.a)(a,2),s=i[0],o=i[1];return r.a.useEffect((function(){n()}),[]),Object(c.jsxs)(c.Fragment,{children:[0===t.list.length&&0===t.basket.length&&Object(c.jsx)(b.a,{display:"flex",alignContent:"center",justifyContent:"center",children:"Du hast noch nichts auf der Einkaufsliste"}),Object(c.jsx)(Ee,{items:t.list,isChecked:!1,headline:"In den Einkaufswagen",onSelect:function(){var e=Object(B.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(c.jsx)(b.a,{mt:3,mb:3}),Object(c.jsx)(Ee,{items:t.basket,isChecked:!0,headline:"Schon dabei",onSelect:function(){var e=Object(B.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.basket.length>0&&Object(c.jsx)(b.a,{mt:4,children:Object(c.jsx)(Se,{onClearList:n})}),Object(c.jsx)(ve.a,{anchor:"top",open:s,onClose:function(){return o(!1)},children:Object(c.jsx)(ye,{onCompleted:function(){o(!1),n()}})}),Object(c.jsx)(w,{onClick:function(){return o(!0)},label:"brauche sachen",children:Object(c.jsx)(ge.a,{})})]})},Pe=n(186),Ie=n(187),De=n(188),Fe=n(183),Ne=n(184),ze=n(185),Te=Object(m.a)((function(e){return Object(v.a)({nav:{marginTop:e.spacing(8),bottom:0,top:"auto"}})})),Be=function(){var e=Object(f.g)(),t=Te(),n=Object(f.h)();return Object(c.jsx)(Fe.a,{position:"fixed",color:"primary",className:t.nav,children:Object(c.jsxs)(Ne.a,{value:n.pathname,showLabels:!0,children:[Object(c.jsx)(ze.a,{onClick:function(){return e.push(je)},value:je,label:"Rezepte",icon:Object(c.jsx)(Pe.a,{})}),Object(c.jsx)(ze.a,{onClick:function(){return e.push(fe)},value:fe,label:"Plan",icon:Object(c.jsx)(Ie.a,{})}),Object(c.jsx)(ze.a,{onClick:function(){return e.push(be)},value:be,label:"Liste",icon:Object(c.jsx)(De.a,{})})]})})},Je=function(){return Object(c.jsxs)(h.a,{children:[Object(c.jsxs)(f.d,{children:[Object(c.jsx)(f.b,{path:je,component:de}),Object(c.jsx)(f.b,{path:be,component:Le}),Object(c.jsx)(f.b,{path:fe,component:ue}),Object(c.jsx)(f.a,{from:"/",to:je})]}),Object(c.jsx)(Be,{})]})},Re=n(103);var Ke=function(){var e=Object(u.a)({palette:{primary:{main:"#00acc1"},secondary:{main:"#00bfa5"},type:"dark"}});return Object(c.jsxs)(l.a,{theme:e,children:[Object(c.jsx)(o.a,{}),Object(c.jsx)(Re.a,{client:Z,children:Object(c.jsx)(j.a,{children:Object(c.jsx)(b.a,{mt:2,mb:8,children:Object(c.jsx)(Je,{})})})})]})};s.a.render(Object(c.jsx)(Ke,{}),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.7b6e23f9.chunk.js.map