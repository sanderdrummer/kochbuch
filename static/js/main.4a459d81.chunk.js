(this.webpackJsonpkochbuch=this.webpackJsonpkochbuch||[]).push([[0],{117:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(0),a=n.n(r),i=n(13),o=n.n(i),s=(n(117),n(185)),u=n(98),l=n(184),j=n(186),b=n(188),d=n(17),f=n(64),h=n(28),p=n(166),O=n(167),x=n(168),m=n(169),v=n(170),g=n(159),k=n(194),w=n(161),y=Object(g.a)((function(e){return Object(k.a)({fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2)}})})),C=function(e){var t=e.onClick,n=e.label,r=e.children,a=e.isLoading,i=y();return Object(c.jsx)(w.a,{onClick:t,disabled:a,className:i.fab,color:"primary","aria-label":n,children:r})},S=n(82),E=n(195),L=n(164),I=n(163),N=n(96),W=n.n(N),T=n(95),z=n.n(T),A=Object(g.a)((function(e){return Object(k.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})})),B=function(e){var t=e.onSubmit,n=e.label,r=A(),i=a.a.useState(""),o=Object(h.a)(i,2),s=o[0],u=o[1];return a.a.useEffect((function(){t(s)}),[t,s]),Object(c.jsxs)(S.a,{onSubmit:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),t(s)})),component:"form",className:r.root,children:[Object(c.jsx)(E.a,{value:s,onChange:function(e){return u(e.target.value)},className:r.input,placeholder:n,inputProps:{"aria-label":n}}),Object(c.jsx)(I.a,{type:"button",color:"secondary",className:r.iconButton,"aria-label":"Suche l\xf6schen",onClick:function(){u(""),t("")},children:Object(c.jsx)(z.a,{})}),Object(c.jsx)(L.a,{className:r.divider,orientation:"vertical"}),Object(c.jsx)(I.a,{type:"submit",className:r.iconButton,"aria-label":"suchen",children:Object(c.jsx)(W.a,{})})]})},R=(n(193),n(190),n(15)),D=n.n(R),F=n(21),J=n(189),P=n(192);function U(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(F.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.abrupt("return",fetch(t,n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=new J.a,G=function(){return Object(P.a)("recipes",Object(F.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U("https://raw.githubusercontent.com/sanderdrummer/recipes-md/master/parsed-recipes.json");case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t?t:[]);case 4:case"end":return e.stop()}}),e)}))))},K=function(){var e=Object(d.g)(),t=G(),n=t.data,r=t.isLoading,i=t.isError,o=(t.error,t.isLoadingError,t.refetch),s=a.a.useState(""),u=Object(h.a)(s,2),l=u[0],j=u[1],f=a.a.useState(null!==n&&void 0!==n?n:[]),g=Object(h.a)(f,2),k=g[0],w=g[1];return a.a.useEffect((function(){w(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e||[];var n=t.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(n)}))}(n,l))}),[l,n]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(B,{label:"was kochen ?",onSubmit:j}),Object(c.jsx)(O.a,{children:k.map((function(t){return Object(c.jsx)(x.a,{button:!0,onClick:function(){return e.push(le(t.title))},children:Object(c.jsx)(m.a,{primary:t.title})},t.title)}))}),r&&Object(c.jsx)(p.a,{"aria-label":"loading","data-testid":"loader"}),i&&Object(c.jsxs)(b.a,{children:["rezepte konnten nicht geladen werden",Object(c.jsx)(v.a,{onClick:function(){return o()},children:"nochmal versuchen"})]})]})},Y=n(173),$=n(171),_=n(172),H=n(174),M=n(37),Q="/rezepte",V="/einkaufliste",X=n(81),ee="LIST_KEY",te=function(e,t){localStorage.setItem(e,JSON.stringify(t))},ne=function(){var e=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}(ee);return e||{basket:[],list:[]}},ce=function(){var e=Object(F.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=ne()).list=n.list.filter((function(e){return e!==t})),n.basket.push(t),te(ee,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e){var t=ne();t.basket=t.basket.filter((function(t){return t!==e})),t.list.push(e),te(ee,t)},ae=function(e){var t=ne();t.list=[].concat(Object(X.a)(t.list),Object(X.a)(e)),te(ee,t)},ie=function(){var e=ne();e.basket=[],te(ee,e)},oe={list:[],basket:[]},se=function(){var e=Object(d.g)(),t=Object(d.i)().id,n=function(e){var t=G().data;return null===t||void 0===t?void 0:t.find((function(t){return t.title===e}))}(decodeURIComponent(t||""));return n?Object(c.jsxs)(b.a,{mt:3,children:[Object(c.jsx)($.a,{children:Object(c.jsx)(_.a,{title:null===n||void 0===n?void 0:n.title,action:Object(c.jsx)(v.a,{startIcon:Object(c.jsx)(Y.a,{}),onClick:Object(F.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ae(null===n||void 0===n?void 0:n.ingredients.map((function(e){var t=e.amount,n=e.name;return"".concat(t," ").concat(n)}))),e.push(V);case 2:case"end":return t.stop()}}),t)}))),children:"zur Einkaufsliste"})})}),Object(c.jsx)(b.a,{mt:3,children:Object(c.jsxs)($.a,{children:[Object(c.jsx)(_.a,{subheader:"Zutaten"}),Object(c.jsx)(O.a,{children:null===n||void 0===n?void 0:n.ingredients.map((function(e){return Object(c.jsxs)(x.a,{children:[e.amount," ",e.name]},e.name)}))})]})}),Object(c.jsx)(b.a,{mt:3,children:Object(c.jsxs)($.a,{children:[Object(c.jsx)(_.a,{subheader:"Zubereitung"}),Object(c.jsx)(H.a,{children:Object(c.jsx)(M.a,{style:{whiteSpace:"pre-wrap"},children:null===n||void 0===n?void 0:n.description})})]})})]}):Object(c.jsx)(p.a,{height:"12rem"})},ue="/rezepte/:id",le=function(e){return"/rezepte/"+e},je=function(){return Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:Q,component:K}),Object(c.jsx)(d.b,{exact:!0,path:ue,component:se})]})},be=n(176),de=n(177),fe=n(178),he=n(191),pe=n(196),Oe=n(179),xe=n(175),me=n(187),ve="shoppingList",ge=function(e){var t=e.onCompleted,n=a.a.useState(""),r=Object(h.a)(n,2),i=r[0],o=r[1];return a.a.useEffect((function(){var e=window.localStorage.getItem(ve)||"";"string"===typeof e&&o(e)}),[]),a.a.useEffect((function(){var e=setTimeout((function(){window.localStorage.setItem(ve,i)}),100);return function(){clearTimeout(e)}}),[i]),Object(c.jsx)(b.a,{children:Object(c.jsxs)($.a,{children:[Object(c.jsx)(_.a,{title:"Einkaufsliste erweitern"}),Object(c.jsx)(H.a,{children:Object(c.jsxs)("form",{onSubmit:function(){var e=Object(F.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{ae([i]),o(""),t()}catch(n){console.log(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsx)(me.a,{value:i,onChange:function(e){return o(e.target.value)},multiline:!0,fullWidth:!0,name:"listItems",label:"Einkaufsliste",required:!0}),Object(c.jsx)(v.a,{type:"submit",startIcon:Object(c.jsx)(xe.a,{}),children:"speichern"})]})})]})})},ke=function(e){var t=e.onClearList,n=a.a.useState(!1),r=Object(h.a)(n,2),i=r[0],o=r[1],s=function(){return o(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(v.a,{onClick:function(){return o(!0)},children:"Liste l\xf6schen"}),Object(c.jsxs)(be.a,{open:i,onClose:s,"aria-labelledby":"clear-list-dialog-title",children:[Object(c.jsx)(de.a,{id:"clear-list-dialog-title",children:"Die Einkaufsliste leeren ?"}),Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(v.a,{onClick:s,color:"primary",children:"nein"}),Object(c.jsx)(v.a,{onClick:Object(F.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{ie(),t(),s()}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0,children:"ja"})]})]})]})},we=function(e){var t=e.items,n=e.onSelect,r=e.isChecked,a=e.headline;return 0===t.length?null:Object(c.jsxs)($.a,{children:[Object(c.jsx)(_.a,{subheader:a}),Object(c.jsx)(H.a,{children:t.map((function(e){return Object(c.jsxs)(x.a,{button:!0,onClick:function(){n(e)},children:[Object(c.jsx)(m.a,{children:e}),Object(c.jsx)(he.a,{checked:r,inputProps:{"aria-label":"".concat(e," ist im Einkaufswagen")}})]},e)}))})]})},ye=function(){var e=function(){var e=a.a.useState(oe),t=Object(h.a)(e,2),n=t[0],c=t[1];return{list:n,fetchList:function(){var e=ne();oe=e,c(e)}}}(),t=e.list,n=e.fetchList,r=a.a.useState(!1),i=Object(h.a)(r,2),o=i[0],s=i[1];return a.a.useEffect((function(){n()}),[]),Object(c.jsxs)(c.Fragment,{children:[0===t.list.length&&0===t.basket.length&&Object(c.jsx)(b.a,{display:"flex",alignContent:"center",justifyContent:"center",children:"Du hast noch nichts auf der Einkaufsliste"}),Object(c.jsx)(we,{items:t.list,isChecked:!1,headline:"In den Einkaufswagen",onSelect:function(){var e=Object(F.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(c.jsx)(b.a,{mt:3,mb:3}),Object(c.jsx)(we,{items:t.basket,isChecked:!0,headline:"Schon dabei",onSelect:function(){var e=Object(F.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.basket.length>0&&Object(c.jsx)(b.a,{mt:4,children:Object(c.jsx)(ke,{onClearList:n})}),Object(c.jsx)(pe.a,{anchor:"top",open:o,onClose:function(){return s(!1)},children:Object(c.jsx)(ge,{onCompleted:function(){s(!1),n()}})}),Object(c.jsx)(C,{onClick:function(){return s(!0)},label:"brauche sachen",children:Object(c.jsx)(Oe.a,{})})]})},Ce=n(183),Se=n(180),Ee=n(181),Le=n(182),Ie=Object(g.a)((function(e){return Object(k.a)({nav:{marginTop:e.spacing(8),bottom:0,top:"auto"}})})),Ne=function(){var e=Object(d.g)(),t=Ie(),n=Object(d.h)();return Object(c.jsx)(Se.a,{position:"fixed",color:"primary",className:t.nav,children:Object(c.jsxs)(Ee.a,{value:n.pathname,showLabels:!0,children:[Object(c.jsx)(Le.a,{onClick:function(){return e.push(Q)},value:Q,label:"Rezepte",icon:Object(c.jsx)(Ce.a,{})}),Object(c.jsx)(Le.a,{onClick:function(){return e.push(V)},value:V,label:"Liste",icon:Object(c.jsx)(Y.a,{})})]})})},We=function(){return Object(c.jsxs)(f.a,{children:[Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{path:Q,component:je}),Object(c.jsx)(d.b,{path:V,component:ye}),Object(c.jsx)(d.a,{from:"/",to:Q})]}),Object(c.jsx)(Ne,{})]})},Te=n(97);var ze=function(){var e=Object(u.a)({palette:{primary:{main:"#00acc1"},secondary:{main:"#00bfa5"},type:"dark"}});return Object(c.jsxs)(l.a,{theme:e,children:[Object(c.jsx)(s.a,{}),Object(c.jsx)(Te.a,{client:q,children:Object(c.jsx)(j.a,{children:Object(c.jsx)(b.a,{mt:2,mb:8,children:Object(c.jsx)(We,{})})})})]})},Ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(c.jsx)(ze,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kochbuch",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/kochbuch","/service-worker.js");Ae?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Be(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Be(t,e)}))}}()}},[[129,1,2]]]);
//# sourceMappingURL=main.4a459d81.chunk.js.map