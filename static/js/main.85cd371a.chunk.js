(this.webpackJsonpkochbuch=this.webpackJsonpkochbuch||[]).push([[0],{122:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n.n(a),i=n(13),s=n.n(i),o=(n(122),n(187)),u=n(103),l=n(186),j=n(188),b=n(190),d=n(17),f=n(65),h=n(28),p=n(168),O=n(169),x=n(170),m=n(171),v=n(172),g=n(161),k=n(196),w=n(163),y=Object(g.a)((function(e){return Object(k.a)({fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2)}})})),C=function(e){var t=e.onClick,n=e.label,a=e.children,r=e.isLoading,i=y();return Object(c.jsx)(w.a,{onClick:t,disabled:r,className:i.fab,color:"primary","aria-label":n,children:a})},S=n(86),E=n(197),L=n(166),I=n(165),N=n(101),z=n.n(N),T=n(100),B=n.n(T),D=Object(g.a)((function(e){return Object(k.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})})),F=function(e){var t=e.onSubmit,n=e.label,a=D(),i=r.a.useState(""),s=Object(h.a)(i,2),o=s[0],u=s[1];return r.a.useEffect((function(){t(o)}),[t,o]),Object(c.jsxs)(S.a,{onSubmit:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),t(o)})),component:"form",className:a.root,children:[Object(c.jsx)(E.a,{value:o,onChange:function(e){return u(e.target.value)},className:a.input,placeholder:n,inputProps:{"aria-label":n}}),Object(c.jsx)(I.a,{type:"button",color:"secondary",className:a.iconButton,"aria-label":"Suche l\xf6schen",onClick:function(){u(""),t("")},children:Object(c.jsx)(B.a,{})}),Object(c.jsx)(L.a,{className:a.divider,orientation:"vertical"}),Object(c.jsx)(I.a,{type:"submit",className:a.iconButton,"aria-label":"suchen",children:Object(c.jsx)(z.a,{})})]})},J=(n(195),n(192),n(15)),P=n.n(J),R=n(21),Z=n(191),q=n(194);function G(e){return K.apply(this,arguments)}function K(){return(K=Object(R.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.abrupt("return",fetch(t,n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=new Z.a,W=function(){return Object(q.a)("recipes",Object(R.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("https://raw.githubusercontent.com/sanderdrummer/recipes-md/master/parsed-recipes.json");case 2:return t=e.sent,e.abrupt("return",null!==t&&void 0!==t?t:[]);case 4:case"end":return e.stop()}}),e)}))))},Y=function(){var e=Object(d.g)(),t=W(),n=t.data,a=t.isLoading,i=t.isError,s=(t.error,t.isLoadingError,t.refetch),o=r.a.useState(""),u=Object(h.a)(o,2),l=u[0],j=u[1],f=r.a.useState(null!==n&&void 0!==n?n:[]),g=Object(h.a)(f,2),k=g[0],w=g[1];return r.a.useEffect((function(){w(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e||[];var n=t.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(n)}))}(n,l))}),[l,n]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(F,{label:"was kochen ?",onSubmit:j}),Object(c.jsx)(O.a,{children:k.map((function(t){return Object(c.jsx)(x.a,{button:!0,onClick:function(){return e.push(le(t.title))},children:Object(c.jsx)(m.a,{primary:t.title})},t.title)}))}),a&&Object(c.jsx)(p.a,{"aria-label":"loading","data-testid":"loader"}),i&&Object(c.jsxs)(b.a,{children:["rezepte konnten nicht geladen werden",Object(c.jsx)(v.a,{onClick:function(){return s()},children:"nochmal versuchen"})]})]})},_=n(175),A=n(173),H=n(174),M=n(176),Q=n(39),V="/rezepte",X="/einkaufliste",$=n(85),ee="LIST_KEY",te=function(e,t){localStorage.setItem(e,JSON.stringify(t))},ne=function(){var e=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}(ee);return e||{basket:[],list:[]}},ce=function(){var e=Object(R.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=ne()).list=n.list.filter((function(e){return e!==t})),n.basket.push(t),te(ee,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=ne();t.basket=t.basket.filter((function(t){return t!==e})),t.list.push(e),te(ee,t)},re=function(e){var t=ne();t.list=[].concat(Object($.a)(t.list),Object($.a)(e)),te(ee,t)},ie=function(){var e=ne();e.basket=[],te(ee,e)},se={list:[],basket:[]},oe=function(){var e=Object(d.g)(),t=Object(d.i)().id,n=function(e){var t=W().data,n=null===t||void 0===t?void 0:t.find((function(t){return t.title===e}));return console.log(e,n),n}(decodeURIComponent(t||""));return n?Object(c.jsxs)(b.a,{mt:3,children:[Object(c.jsx)(A.a,{children:Object(c.jsx)(H.a,{title:null===n||void 0===n?void 0:n.title,action:Object(c.jsx)(v.a,{startIcon:Object(c.jsx)(_.a,{}),onClick:Object(R.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:re(null===n||void 0===n?void 0:n.ingredients.map((function(e){var t=e.amount,n=e.name;return"".concat(t," ").concat(n)}))),e.push(X);case 2:case"end":return t.stop()}}),t)}))),children:"zur Einkaufsliste"})})}),Object(c.jsx)(b.a,{mt:3,children:Object(c.jsxs)(A.a,{children:[Object(c.jsx)(H.a,{subheader:"Zutaten"}),Object(c.jsx)(O.a,{children:null===n||void 0===n?void 0:n.ingredients.map((function(e){return Object(c.jsxs)(x.a,{children:[e.amount," ",e.name]},e.name)}))})]})}),Object(c.jsx)(b.a,{mt:3,children:Object(c.jsxs)(A.a,{children:[Object(c.jsx)(H.a,{subheader:"Zubereitung"}),Object(c.jsx)(M.a,{children:Object(c.jsx)(Q.a,{style:{whiteSpace:"pre-wrap"},children:null===n||void 0===n?void 0:n.description})})]})})]}):Object(c.jsx)(p.a,{height:"12rem"})},ue="/rezepte/:id",le=function(e){return"/rezepte/"+e},je=function(){return Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:V,component:Y}),Object(c.jsx)(d.b,{exact:!0,path:ue,component:oe})]})},be=n(178),de=n(179),fe=n(180),he=n(193),pe=n(198),Oe=n(181),xe=n(177),me=n(189),ve="shoppingList",ge=function(e){var t=e.onCompleted,n=r.a.useState(""),a=Object(h.a)(n,2),i=a[0],s=a[1];return r.a.useEffect((function(){var e=window.localStorage.getItem(ve)||"";"string"===typeof e&&s(e)}),[]),r.a.useEffect((function(){var e=setTimeout((function(){window.localStorage.setItem(ve,i)}),100);return function(){clearTimeout(e)}}),[i]),Object(c.jsx)(b.a,{children:Object(c.jsxs)(A.a,{children:[Object(c.jsx)(H.a,{title:"Einkaufsliste erweitern"}),Object(c.jsx)(M.a,{children:Object(c.jsxs)("form",{onSubmit:function(){var e=Object(R.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{re([i]),s(""),t()}catch(n){console.log(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsx)(me.a,{value:i,onChange:function(e){return s(e.target.value)},multiline:!0,fullWidth:!0,name:"listItems",label:"Einkaufsliste",required:!0}),Object(c.jsx)(v.a,{type:"submit",startIcon:Object(c.jsx)(xe.a,{}),children:"speichern"})]})})]})})},ke=function(e){var t=e.onClearList,n=r.a.useState(!1),a=Object(h.a)(n,2),i=a[0],s=a[1],o=function(){return s(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(v.a,{onClick:function(){return s(!0)},children:"Liste l\xf6schen"}),Object(c.jsxs)(be.a,{open:i,onClose:o,"aria-labelledby":"clear-list-dialog-title",children:[Object(c.jsx)(de.a,{id:"clear-list-dialog-title",children:"Die Einkaufsliste leeren ?"}),Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(v.a,{onClick:o,color:"primary",children:"nein"}),Object(c.jsx)(v.a,{onClick:Object(R.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{ie(),t(),o()}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0,children:"ja"})]})]})]})},we=function(e){var t=e.items,n=e.onSelect,a=e.isChecked,r=e.headline;return 0===t.length?null:Object(c.jsxs)(A.a,{children:[Object(c.jsx)(H.a,{subheader:r}),Object(c.jsx)(M.a,{children:t.map((function(e){return Object(c.jsxs)(x.a,{button:!0,onClick:function(){n(e)},children:[Object(c.jsx)(m.a,{children:e}),Object(c.jsx)(he.a,{checked:a,inputProps:{"aria-label":"".concat(e," ist im Einkaufswagen")}})]},e)}))})]})},ye=function(){var e=function(){var e=r.a.useState(se),t=Object(h.a)(e,2),n=t[0],c=t[1];return{list:n,fetchList:function(){var e=ne();se=e,c(e)}}}(),t=e.list,n=e.fetchList,a=r.a.useState(!1),i=Object(h.a)(a,2),s=i[0],o=i[1];return r.a.useEffect((function(){n()}),[]),Object(c.jsxs)(c.Fragment,{children:[0===t.list.length&&0===t.basket.length&&Object(c.jsx)(b.a,{display:"flex",alignContent:"center",justifyContent:"center",children:"Du hast noch nichts auf der Einkaufsliste"}),Object(c.jsx)(we,{items:t.list,isChecked:!1,headline:"In den Einkaufswagen",onSelect:function(){var e=Object(R.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(c.jsx)(b.a,{mt:3,mb:3}),Object(c.jsx)(we,{items:t.basket,isChecked:!0,headline:"Schon dabei",onSelect:function(){var e=Object(R.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.basket.length>0&&Object(c.jsx)(b.a,{mt:4,children:Object(c.jsx)(ke,{onClearList:n})}),Object(c.jsx)(pe.a,{anchor:"top",open:s,onClose:function(){return o(!1)},children:Object(c.jsx)(ge,{onCompleted:function(){o(!1),n()}})}),Object(c.jsx)(C,{onClick:function(){return o(!0)},label:"brauche sachen",children:Object(c.jsx)(Oe.a,{})})]})},Ce=n(185),Se=n(182),Ee=n(183),Le=n(184),Ie=Object(g.a)((function(e){return Object(k.a)({nav:{marginTop:e.spacing(8),bottom:0,top:"auto"}})})),Ne=function(){var e=Object(d.g)(),t=Ie(),n=Object(d.h)();return Object(c.jsx)(Se.a,{position:"fixed",color:"primary",className:t.nav,children:Object(c.jsxs)(Ee.a,{value:n.pathname,showLabels:!0,children:[Object(c.jsx)(Le.a,{onClick:function(){return e.push(V)},value:V,label:"Rezepte",icon:Object(c.jsx)(Ce.a,{})}),Object(c.jsx)(Le.a,{onClick:function(){return e.push(X)},value:X,label:"Liste",icon:Object(c.jsx)(_.a,{})})]})})},ze=function(){return Object(c.jsxs)(f.a,{children:[Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{path:V,component:je}),Object(c.jsx)(d.b,{path:X,component:ye}),Object(c.jsx)(d.a,{from:"/",to:V})]}),Object(c.jsx)(Ne,{})]})},Te=n(102);var Be=function(){var e=Object(u.a)({palette:{primary:{main:"#00acc1"},secondary:{main:"#00bfa5"},type:"dark"}});return Object(c.jsxs)(l.a,{theme:e,children:[Object(c.jsx)(o.a,{}),Object(c.jsx)(Te.a,{client:U,children:Object(c.jsx)(j.a,{children:Object(c.jsx)(b.a,{mt:2,mb:8,children:Object(c.jsx)(ze,{})})})})]})};s.a.render(Object(c.jsx)(Be,{}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.85cd371a.chunk.js.map