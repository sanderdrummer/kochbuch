(this.webpackJsonpkochbuch=this.webpackJsonpkochbuch||[]).push([[0],{106:function(e,t,n){e.exports=n(119)},111:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(111),n(174)),l=n(93),u=n(173),s=n(175),f=n(177),m=n(13),p=n(59),h=n(20),E=n(155),d=n(156),b=n(157),v=n(158),g=n(159),k=n(148),w=n(181),O=n(150),j=Object(k.a)((function(e){return Object(w.a)({fab:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2)}})})),y=function(e){var t=e.onClick,n=e.label,a=e.children,c=e.isLoading,i=j();return r.a.createElement(O.a,{onClick:t,disabled:c,className:i.fab,color:"primary","aria-label":n},a)},C=n(79),S=n(182),x=n(153),L=n(152),I=n(92),T=n.n(I),R=n(91),A=n.n(R),N=Object(k.a)((function(e){return Object(w.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}})})),_=function(e){var t=e.onSubmit,n=e.label,a=N(),c=r.a.useState(""),i=Object(h.a)(c,2),o=i[0],l=i[1];return r.a.useEffect((function(){t(o)}),[t,o]),r.a.createElement(C.a,{onSubmit:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e.preventDefault(),t(o)})),component:"form",className:a.root},r.a.createElement(S.a,{value:o,onChange:function(e){return l(e.target.value)},className:a.input,placeholder:n,inputProps:{"aria-label":n}}),r.a.createElement(L.a,{type:"button",color:"secondary",className:a.iconButton,"aria-label":"Suche l\xf6schen",onClick:function(){l(""),t("")}},r.a.createElement(A.a,null)),r.a.createElement(x.a,{className:a.divider,orientation:"vertical"}),r.a.createElement(L.a,{type:"submit",className:a.iconButton,"aria-label":"suchen"},r.a.createElement(T.a,null)))},z=(n(180),n(178),n(9)),D=n.n(z),W=n(16),P=n(66),F=n(43);function B(e){return K.apply(this,arguments)}function K(){return(K=Object(W.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET"},e.abrupt("return",fetch(t,n).then(function(){var e=Object(W.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.json());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y={isLoading:!1,tags:[],recipes:{},hasError:!1},H=function(e,t){switch(t.type){case"DATA_FETCHED":return function(e,t){var n=t.reduce((function(e,t){return Object(F.a)({},e,Object(P.a)({},t.title,t))}),{}),a=Object(F.a)({},e.recipes,{},n);return Object(F.a)({},e,{isLoading:!1,hasError:!1,recipes:a})}(e,t.data);case"HAS_ERROR":return Object(F.a)({},e,{hasError:!0});case"START_LOADING":return Object(F.a)({},e,{hasError:!1,isLoading:!0});case"REMOVE_RECIPE":var n=Object(F.a)({},e);return delete n.recipes[t.recipe.title],n;default:return e}},J=r.a.createContext((function(){})),U=r.a.createContext(Y),G=function(e){var t=e.children,n=r.a.useReducer(H,Y),a=Object(h.a)(n,2),c=a[0],i=a[1];return r.a.useEffect((function(){q(i)}),[]),r.a.createElement(J.Provider,{value:i},r.a.createElement(U.Provider,{value:c},t))},Z=function(){return r.a.useContext(U)},q=function(){var e=Object(W.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.prev=1,e.next=4,B("https://raw.githubusercontent.com/sanderdrummer/recipes-md/master/parsed-recipes.json");case 4:n=e.sent,t({type:"DATA_FETCHED",data:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"HAS_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.g)(),t=Z(),n=t.recipes,a=t.hasError,c=t.isLoading,i=r.a.useState(""),o=Object(h.a)(i,2),l=o[0],u=o[1],s=r.a.useState(Object.values(n)),p=Object(h.a)(s,2),k=p[0],w=p[1];r.a.useEffect((function(){w(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return e||[];var n=t.toLowerCase();return e.filter((function(e){return e.title.toLowerCase().includes(n)}))}(Object.values(n),l))}),[l,n]);var O=r.a.useContext(J);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{label:"was kochen ?",onSubmit:u}),r.a.createElement(d.a,null,k.map((function(t){return r.a.createElement(b.a,{button:!0,onClick:function(){return e.push(se(t.title))},key:t.title},r.a.createElement(v.a,{primary:t.title}))}))),c&&r.a.createElement(E.a,{"aria-label":"loading","data-testid":"loader"}),a&&r.a.createElement(f.a,null,"rezepte konnten nicht geladen werden",r.a.createElement(g.a,{onClick:function(){return q(O)}},"nochmal versuchen")))},V=n(162),$=n(160),Q=n(161),X=n(163),ee=n(31),te=n(78),ne=function(e,t){localStorage.setItem(e,JSON.stringify(t))},ae=function(){var e=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}("LIST_KEY");return e||{basket:[],list:[]}},re=function(){var e=Object(W.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=ae()).list=n.list.filter((function(e){return e!==t})),n.basket.push(t),ne("LIST_KEY",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=ae();t.basket=t.basket.filter((function(t){return t!==e})),t.list.push(e),ne("LIST_KEY",t)},ie=function(e){var t=ae();t.list=[].concat(Object(te.a)(t.list),Object(te.a)(e)),ne("LIST_KEY",t)},oe=function(){var e=ae();e.basket=[],ne("LIST_KEY",e)},le={list:[],basket:[]},ue=function(){var e=Object(m.g)(),t=Object(m.i)().id,n=function(e){return Z().recipes[e]}(decodeURIComponent(t||""));return n?r.a.createElement(f.a,{mt:3},r.a.createElement($.a,null,r.a.createElement(Q.a,{title:n.title,action:r.a.createElement(g.a,{startIcon:r.a.createElement(V.a,null),onClick:Object(W.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ie(n.ingredients),e.push("/einkaufliste");case 2:case"end":return t.stop()}}),t)})))},"zur Einkaufsliste")})),r.a.createElement(f.a,{mt:3},r.a.createElement($.a,null,r.a.createElement(Q.a,{subheader:"Zutaten"}),r.a.createElement(d.a,null,n.ingredients.map((function(e){return r.a.createElement(b.a,{key:e},e)}))))),r.a.createElement(f.a,{mt:3},r.a.createElement($.a,null,r.a.createElement(Q.a,{subheader:"Zubereitung"}),r.a.createElement(X.a,null,r.a.createElement(ee.a,{style:{whiteSpace:"pre-wrap"}},n.description))))):r.a.createElement(E.a,{height:"12rem"})},se=function(e){return"/rezepte/"+e},fe=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/rezepte",component:M}),r.a.createElement(m.b,{exact:!0,path:"/rezepte/:id",component:ue}))},me=n(165),pe=n(166),he=n(167),Ee=n(179),de=n(183),be=n(168),ve=n(164),ge=n(176),ke="shoppingList",we=function(e){var t=e.onCompleted,n=r.a.useState(""),a=Object(h.a)(n,2),c=a[0],i=a[1];return r.a.useEffect((function(){var e=window.localStorage.getItem(ke)||"";"string"===typeof e&&i(e)}),[]),r.a.useEffect((function(){var e=setTimeout((function(){window.localStorage.setItem(ke,c)}),100);return function(){clearTimeout(e)}}),[c]),r.a.createElement(f.a,null,r.a.createElement($.a,null,r.a.createElement(Q.a,{title:"Einkaufsliste erweitern"}),r.a.createElement(X.a,null,r.a.createElement("form",{onSubmit:function(){var e=Object(W.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault();try{ie([c]),i(""),t()}catch(n){console.log(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(ge.a,{value:c,onChange:function(e){return i(e.target.value)},multiline:!0,fullWidth:!0,name:"listItems",label:"Einkaufsliste",required:!0}),r.a.createElement(g.a,{type:"submit",startIcon:r.a.createElement(ve.a,null)},"speichern")))))},Oe=function(e){var t=e.onClearList,n=r.a.useState(!1),a=Object(h.a)(n,2),c=a[0],i=a[1],o=function(){return i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:function(){return i(!0)}},"Liste l\xf6schen"),r.a.createElement(me.a,{open:c,onClose:o,"aria-labelledby":"clear-list-dialog-title"},r.a.createElement(pe.a,{id:"clear-list-dialog-title"},"Die Einkaufsliste leeren ?"),r.a.createElement(he.a,null,r.a.createElement(g.a,{onClick:o,color:"primary"},"nein"),r.a.createElement(g.a,{onClick:Object(W.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{oe(),t(),o()}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)}))),color:"primary",autoFocus:!0},"ja"))))},je=function(e){var t=e.items,n=e.onSelect,a=e.isChecked,c=e.headline;return 0===t.length?null:r.a.createElement($.a,null,r.a.createElement(Q.a,{subheader:c}),r.a.createElement(X.a,null,t.map((function(e){return r.a.createElement(b.a,{button:!0,onClick:function(){n(e)},key:e},r.a.createElement(v.a,null,e),r.a.createElement(Ee.a,{checked:a,inputProps:{"aria-label":"".concat(e," ist im Einkaufswagen")}}))}))))},ye=function(){var e=function(){var e=r.a.useState(le),t=Object(h.a)(e,2),n=t[0],a=t[1];return{list:n,fetchList:function(){var e=Object(W.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:t=e.sent,le=t,a(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}}(),t=e.list,n=e.fetchList,a=r.a.useState(!1),c=Object(h.a)(a,2),i=c[0],o=c[1];return r.a.useEffect((function(){n()}),[]),r.a.createElement(r.a.Fragment,null,0===t.list.length&&0===t.basket.length&&r.a.createElement(f.a,{display:"flex",alignContent:"center",justifyContent:"center"},"Du hast noch nichts auf der Einkaufsliste"),r.a.createElement(je,{items:t.list,isChecked:!1,headline:"In den Einkaufswagen",onSelect:function(){var e=Object(W.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:re(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),r.a.createElement(f.a,{mt:3,mb:3}),r.a.createElement(je,{items:t.basket,isChecked:!0,headline:"Schon dabei",onSelect:function(){var e=Object(W.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ce(t),n();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),t.basket.length>0&&r.a.createElement(f.a,{mt:4},r.a.createElement(Oe,{onClearList:n})),r.a.createElement(de.a,{anchor:"top",open:i,onClose:function(){return o(!1)}},r.a.createElement(we,{onCompleted:function(){o(!1),n()}})),r.a.createElement(y,{onClick:function(){return o(!0)},label:"brauche sachen"},r.a.createElement(be.a,null)))},Ce=n(172),Se=n(169),xe=n(170),Le=n(171),Ie=Object(k.a)((function(e){return Object(w.a)({nav:{marginTop:e.spacing(8),bottom:0,top:"auto"}})})),Te=function(){var e=Object(m.g)(),t=Ie(),n=Object(m.h)();return r.a.createElement(Se.a,{position:"fixed",color:"primary",className:t.nav},r.a.createElement(xe.a,{value:n.pathname,showLabels:!0},r.a.createElement(Le.a,{onClick:function(){return e.push("/rezepte")},value:"/rezepte",label:"Rezepte",icon:r.a.createElement(Ce.a,null)}),r.a.createElement(Le.a,{onClick:function(){return e.push("/einkaufliste")},value:"/einkaufliste",label:"Liste",icon:r.a.createElement(V.a,null)})))},Re=function(){return r.a.createElement(p.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/rezepte",component:fe}),r.a.createElement(m.b,{path:"/einkaufliste",component:ye}),r.a.createElement(m.a,{from:"/",to:"/rezepte"})),r.a.createElement(Te,null))};var Ae=function(){var e=Object(l.a)({palette:{primary:{main:"#00acc1"},secondary:{main:"#00bfa5"},type:"dark"}});return r.a.createElement(u.a,{theme:e},r.a.createElement(o.a,null),r.a.createElement(G,null,r.a.createElement(s.a,null,r.a.createElement(f.a,{mt:2,mb:8},r.a.createElement(Re,null)))))},Ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(Ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/kochbuch",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/kochbuch","/service-worker.js");Ne?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_e(t,e)}))}}()}},[[106,1,2]]]);
//# sourceMappingURL=main.45843122.chunk.js.map