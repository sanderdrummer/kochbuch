"use strict";var WP;!function(t){angular.module("cook").config(["$compileProvider","$httpProvider",function(t,e){t.debugInfoEnabled(!1),e.useLegacyPromiseExtensions=!1,e.useApplyAsync(!0)}]).constant("apiUrl","http://localhost:3001/kochbuch/api/listApi/public/").component("app",{templateUrl:"app.html"})}(WP||(WP={}));var WP;!function(t){angular.module("cook").config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/recipes"),t.state("recipes",{url:"/recipes",template:"<recipes></recipes>"}).state("recipes.recipe",{url:"/show/:id",views:{recipe:{template:"<recipe></recipe>"}},onEnter:function(){document.body.classList.add("noScroll")},onExit:function(){document.body.classList.remove("noScroll")}}).state("recipes.addRecipe",{url:"/add",views:{recipe:{template:"<add-recipe></add-recipe>"}},onEnter:function(){document.body.classList.add("noScroll")},onExit:function(){document.body.classList.remove("noScroll")}}).state("recipes.addRecipe.products",{url:"/products",template:"<products></products>"}).state("list",{url:"/list",template:"<list></list>"}).state("list.products",{url:"/products",template:"<products></products>"}).state("products",{url:"/products",template:"<products></products>"})}])}(WP||(WP={}));var WP;!function(t){var e=function(){function t(t){this.$cacheFactory=t,this.cache=t("appCache")}return t.prototype.cacheList=function(t){var e=this;t.forEach(function(t){e.cache.put(t.id,t)})},t.$inject=["$cacheFactory"],t}();t.AppCache=e,angular.module("cook").service("appCache",e)}(WP||(WP={})),angular.module("CompiledTemplates").run(["$templateCache",function(t){t.put("app.html",'das ist ein test<nav><a ui-sref="recipes">Rezepte</a> <a ui-sref="list">Liste</a> <a ui-sref="products">Produkte</a></nav><div ui-view=""></div>')}]),angular.module("CompiledTemplates").run(["$templateCache",function(t){t.put("components/products/products.html",'Prdukte<add-product update-list="ctrl.updateList()"></add-product><div class="border-top" ng-repeat="product in ctrl.products">{{product.id}} {{product.name}}</div>')}]);var WP;!function(t){var e=function(){function t(t){this.productService=t}return t.prototype.$onInit=function(){this.updateList()},t.prototype.updateList=function(){var t=this;console.log("test"),this.productService.get().then(function(e){console.log(e),t.products=e.data})},t.$inject=["productService"],t}();angular.module("cook").component("products",{templateUrl:"components/products/products.html",controller:e,controllerAs:"ctrl"})}(WP||(WP={}));var RSU;!function(t){var e=function(){function t(t,e){this.http=t,this.apiUrl=e}return t.prototype.get=function(){return this.http.get(this.apiUrl+"product")},t.prototype.create=function(t){return this.http.get(this.apiUrl+"product/create",{params:{name:t}})},t.prototype.update=function(t,e){return this.http.get(this.apiUrl+"product/update",{params:{id:t,name:e}})},t.prototype.destroy=function(t){return this.http.get(this.apiUrl+"product/destroy",{params:{id:t}})},t.$inject=["$http","apiUrl"],t}();t.ProductService=e,angular.module("cook").service("productService",e)}(RSU||(RSU={}));var WP;!function(t){var e=function(){function t(t,e){this.recipesService=t}return t.prototype.$onInit=function(){this.getRecipes()},t.prototype.getRecipes=function(){var t=this;this.recipesService.get().then(function(e){t.state.recipes=e.data})},t.$inject=["recipesService","recipesState"],t}();angular.module("cook").component("recipes",{templateUrl:"components/recipes/recipes.html",controller:e,controllerAs:"ctrl"})}(WP||(WP={})),angular.module("CompiledTemplates").run(["$templateCache",function(t){t.put("components/recipes/recipes.html",'rezepte<div><a ui-sref="recipes.addRecipe">neues Rezept</a></div><form class="grow wp100" ng-submit=""><input type="text" class="wp100" ng-model="ctrl.searchString"></form><div class="flex cardContainer"><div class="card grow" ng-repeat="recipe in ctrl.state.recipes"><a ui-sref="recipes.recipe({id: recipe.id})">{{recipe.id}} {{recipe.name}}</a></div></div><div ui-view="recipe"></div>')}]),angular.module("CompiledTemplates").run(["$templateCache",function(t){t.put("components/products/addProduct/addProduct.html",'<form ng-submit="addProduct.create()"><input type="text" ng-model="addProduct.product.name" name="name" required=""> <input ng-if="addProduct.recipe || addProduct.list" type="text" ng-model="addProduct.product.amount" name="amount" required=""> <button>neues Produkt</button></form>')}]);var RSU;!function(t){var e=function(){function t(t,e){this.http=t,this.apiUrl=e}return t.prototype.get=function(){return this.http.get(this.apiUrl+"recipe",{cache:!0})},t.prototype.single=function(t){return this.http.get(this.apiUrl+"recipe/single",{params:{id:t}})},t.prototype.add=function(t){return this.http.get(this.apiUrl+"recipe/create",{params:{name:t}})},t.prototype.update=function(t,e,i){return this.http.get(this.apiUrl+"recipe/update",{params:{id:t,name:e,description:i}})},t.prototype.destroy=function(t){return this.http.get(this.apiUrl+"recipe/destroy",{params:{id:t}})},t.prototype.linkProduct=function(t,e,i){return this.http.get(this.apiUrl+"item/create",{params:{product_id:t,amount:e,recipe_id:i}})},t.prototype.upateProduct=function(t,e,i,r){return this.http.get(this.apiUrl+"item/update",{params:{id:t,product_id:e,amount:i,recipe_id:r}})},t.prototype.unLinkProduct=function(t){return this.http.get(this.apiUrl+"item/destroy",{params:{id:t}})},t.$inject=["$http","apiUrl"],t}();t.RecipesService=e,angular.module("cook").service("recipesService",e)}(RSU||(RSU={}));var WP;!function(t){var e=function(){function t(){}return t}();t.RecipesState=e,angular.module("cook").service("recipesState",e)}(WP||(WP={})),angular.module("CompiledTemplates").run(["$templateCache",function(t){t.put("components/recipes/addRecipe/addRecipe.html",'<div class="fixedContainer"><form ng-if="!ctrl.recipe.name" ng-submit="ctrl.addRecipe(name)"><input required="" type="text" ng-model="name"></form><form class="formGroup" ng-if="ctrl.recipe.name" ng-submit="ctrl.update()"><input required="" type="text" ng-model="ctrl.recipe.name"> <textarea ng-model="ctrl.recipe.description"></textarea> <button type="submit">update</button></form></div>')}]);var WP;!function(t){var e=function(){function t(t){this.productService=t}return t.prototype.create=function(){var t=this;console.log(this.product),this.productService.create(this.product.name).then(function(){console.log("done"),t.updateList()})},t.$inject=["productService"],t}();angular.module("cook").component("addProduct",{templateUrl:"components/products/addProduct/addProduct.html",controller:e,controllerAs:"addProduct",bindings:{list:"<",recipe:"<",updateList:"&"}})}(WP||(WP={}));var WP;!function(t){var e=function(){function t(t){this.recipesService=t}return t.prototype.addRecipe=function(t){var e=this;this.loading=!0,this.recipesService.add(t).then(function(t){t.data&&(e.recipe=t.data),e.loading=!1},function(){e.loading=!1})},t.prototype.update=function(){var t=this;this.loading=!0,this.recipesService.update(this.recipe.id,this.recipe.name,this.recipe.description).then(function(e){t.loading=!1},function(){t.loading=!1})},t.prototype.addProduct=function(){},t.prototype.addNewProduct=function(){},t.$inject=["recipesService"],t}();angular.module("cook").component("addRecipe",{templateUrl:"components/recipes/addRecipe/addRecipe.html",controller:e,controllerAs:"ctrl",bindings:{recipe:"<"}})}(WP||(WP={})),angular.module("CompiledTemplates").run(["$templateCache",function(t){t.put("components/recipes/recipe/recipe.html",'<div class="fixedContainer"><div ng-if="!ctrl.edit"><h3>{{ctrl.recipe.name}}</h3><div class="flex"><div class="w300"><div class="borderTop p-t-1" ng-repeat="product in ctrl.recipe.products">{{product.name}} | {{product.amount}}</div></div><div class="grow"><div class="p-1 doLineBreaks">{{ctrl.recipe.description}}</div></div></div><div ng-click="ctrl.toggleEdit()" class="flex"><a class="card">Bearbeiten</a></div></div><div ng-if="ctrl.edit"><add-recipe recipe="ctrl.recipe"></add-recipe><div ng-click="ctrl.toggleEdit()" class="flex"><a class="card">zur√ºck</a></div></div></div>')}]);var WP;!function(t){var e=function(){function t(t,e){this.$stateParams=t,this.recipesService=e,this.edit=!1}return t.prototype.$onInit=function(){var t=this;this.$stateParams.id&&(this.loading=!0,this.recipesService.single(this.$stateParams.id).then(function(e){t.loading=!1,t.recipe=e.data},function(){t.loading=!1}))},t.prototype.toggleEdit=function(){this.edit=!this.edit},t.$inject=["$stateParams","recipesService"],t}();angular.module("cook").component("recipe",{templateUrl:"components/recipes/recipe/recipe.html",controller:e,controllerAs:"ctrl"})}(WP||(WP={}));